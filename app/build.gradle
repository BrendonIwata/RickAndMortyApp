apply plugin: 'com.android.application'

apply plugin: 'kotlin-android'

apply plugin: 'kotlin-android-extensions'

android {

    def config = rootProject.ext //rootProject.extensions.getByName("ext")

    compileSdkVersion config["androidCompileSdkVersion"] //use brackets to better visualization
    defaultConfig {
        minSdkVersion config["androidMinSdkVersion"]
        targetSdkVersion config["androidTargetSdkVersion"]
        applicationId config["androidApplicationId"]
        versionCode config["androidVersionCode"]
        versionName config["androidVersionName"]
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])



    /****************************************
     * Dependecies from dependencies.gradle *
     ****************************************/
    def labelDependencies = "${project.name}Dependencies"
    def labelTestDependencies = "${project.name}TestDependencies"
    def labelAndroidTestDependencies = "${project.name}AndroidTestDependencies"
    def labelKapt = "${project.name}Kapt"

    def dependencies = rootProject.extensions.hasProperty(labelDependencies) ?  rootProject.ext["$labelDependencies"] : []
    def testDependencies = rootProject.extensions.hasProperty(labelTestDependencies) ?  rootProject.ext["$labelTestDependencies"] : []
    def androidTestDependencies = rootProject.extensions.hasProperty(labelAndroidTestDependencies) ?  rootProject.ext["$labelAndroidTestDependencies"] : []
    def _kapt = rootProject.extensions.hasProperty(labelKapt) ?  rootProject.ext["$labelKapt"] : []

    dependencies.each { v -> implementation v }
    testDependencies.each { v -> testImplementation v}
    androidTestDependencies.each { v -> androidTestImplementation v}
    _kapt.each { v -> kapt v}

    /******* end *******/

    implementation "com.android.support:appcompat-v7:27.1.0" //TODO remove this (search how to solve the problem about Theme) (remove this line and see the error)

}
